buildscript {
  repositories {
    mavenCentral()
    mavenLocal()
  }

  dependencies { classpath "com.darylteo.vertx:vertx-gradle-plugin:0.1.0-SNAPSHOT" }
}

def testdir = file('testdir')
def apiProject = childProjects.'edge-core-api'

subprojects {
  repositories {
    mavenCentral()
    mavenLocal()
  }

  apply plugin: 'vertx'
  apply plugin: 'maven'

  version = '0.1.0-SNAPSHOT'
  
  vertx {
    platform { version '2.0.2-final' }

    config {
    }
  }

  dependencies { 
    if(project != apiProject) {
      compile apiProject
    }
  }

  test { workingDir = testdir }

  def release = !project.version.endsWith('-SNAPSHOT')
}


